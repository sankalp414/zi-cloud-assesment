{"version":3,"file":"static/js/646.f0b10f07.chunk.js","mappings":"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","sources":["components/utils/PasswordVisibilityToggle.tsx","store/storeHooks.ts","utils/appUtils.ts","utils/axios.ts"],"sourcesContent":["import { Visibility, VisibilityOff } from \"@mui/icons-material\";\nimport { ClickEventHandler, StateSetter } from \"../../utils/AppTypes\";\n\ninterface Props {\n  disableIfLoading: string;\n  showPassword: boolean;\n  setShowPassword: StateSetter<boolean>;\n}\n\nconst PasswordVisibilityToggle = ({\n  disableIfLoading,\n  showPassword,\n  setShowPassword,\n}: Props) => {\n  const toggleVisibility: ClickEventHandler = () => setShowPassword(!showPassword);\n\n  return (\n    <span\n      className={`input-group-text ${disableIfLoading} btn btn-outline-info rounded-pill rounded-start`}\n      onClick={toggleVisibility}\n    >\n      {showPassword ? <VisibilityOff /> : <Visibility />}\n    </span>\n  );\n};\n\nexport default PasswordVisibilityToggle;\n","import { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { TypedUseSelectorHook } from \"react-redux\";\nimport type { AppDispatch, RootState } from \"./store\";\n\n// Exporting reusable typed versions of 'useSelector' and 'useDispatch' hooks\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\nexport const useAppDispatch: () => AppDispatch = useDispatch;","import { AxiosConfig, AxiosOptions, UserType } from \"./AppTypes\";\n\n// Convert a normal function to a 'debounced' function\nexport const debounce = function (\n  func: Function,\n  delay: number = 500,\n  context?: any\n) {\n  let timer: NodeJS.Timeout;\n  return (...args: any[]) => {\n    if (timer) clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(context, args);\n    }, delay);\n  };\n};\n\n// Optimization method to cache and retrieve the results\n// of pure functions, instead of recalculating again\nexport const memoize = function (func: Function) {\n  // Each memoized fn has its own separate cache\n  const cachedResults: any = {};\n\n  return (...args: any[]) => {\n    // To generate a unique key for each input args array\n    const argsKey = JSON.stringify(args);\n    // console.log(\n    //   cachedResults[argsKey] ? \"Retrieving from cache...\" : \"Calculating...\"\n    // );\n\n    // Retrieve result from cache if present, else calculate\n    const result: any = cachedResults[argsKey] || func(...args);\n\n    // If result isn't saved in cache, save it for later use\n    if (!cachedResults[argsKey]) cachedResults[argsKey] = result;\n\n    return result;\n  };\n};\n\n// Truncate a sentence/string\nexport const truncateString = memoize(\n  (\n    str: string | null,\n    limit: number | null,\n    index: number | null\n  ) => {\n    if (!str || !limit || !index) return \"\";\n    return str.length > limit ? `${str.substring(0, index)}...` : str;\n  }\n);\n\n// Truncate each word of a sentence/string\nexport const truncateWords = (\n  sentence: string | null,\n  limit: number | null,\n  index: number | null\n) => {\n  if (!sentence || !limit || !index) return \"\";\n  const words = sentence.split(\" \");\n  return words\n    .map((word) =>\n      word.length > limit ? `${word.substring(0, index)}...` : word\n    )\n    .join(\" \");\n};\n\nexport const getOneToOneChatReceiver = memoize(\n  (loggedInUser: UserType, chatUsers: UserType[]) => {\n    if (!chatUsers?.length || !loggedInUser) return;\n    return loggedInUser._id !== chatUsers[0]?._id ? chatUsers[0] : chatUsers[1];\n  }\n);\n\nexport const msgTimeStringOf = memoize((msgDate: Date) => {\n  if (!msgDate) return \"\";\n  let hours = msgDate.getHours();\n  let minutes = msgDate.getMinutes();\n  const am_or_pm = hours >= 12 ? \" pm\" : \" am\";\n  hours = hours === 0 ? 12 : hours > 12 ? hours - 12 : hours;\n  return `${hours}:${minutes < 10 ? \"0\" : \"\"}${minutes}${am_or_pm}`;\n});\n\nexport const dateStringOf = memoize((date: Date) => {\n  return date\n    ? `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\n    : \"\";\n});\n\n// Impure function, so can't memoize\nexport const msgDateStringOf = (currDate: Date) => {\n  if (!currDate) return \"\";\n  const months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n  const today = new Date();\n  const yesterday = new Date(\n    today.setTime(today.getTime() - 24 * 60 * 60 * 1000)\n  );\n\n  return dateStringOf(currDate) === dateStringOf(new Date())\n    ? \"Today\"\n    : dateStringOf(currDate) === dateStringOf(yesterday)\n    ? \"Yesterday\"\n    : `${currDate.getDate()} ${\n        months[currDate.getMonth()]\n      } ${currDate.getFullYear()}`;\n};\n\nexport const parseInnerHTML = (innerHTML: string) => {\n  return (\n    innerHTML\n      ?.replaceAll(\"<br>\", \"\")\n      .replaceAll(\"&nbsp;\", \" \")\n      .replaceAll(\"<div>\", \"\")\n      .replaceAll(\"</div>\", \"\")\n      .trim() || \"\"\n  );\n};\n\nexport const setCaretPosition = (node: HTMLElement) => {\n  node?.focus();\n  const lastTextNode: ChildNode | null = node?.lastChild;\n  if (!lastTextNode) return;\n  console.log(\"lastTextNode\", lastTextNode);\n  const caret = lastTextNode.textContent?.length || 0;\n  const range = document.createRange();\n  range.setStart(lastTextNode, caret);\n  range.setEnd(lastTextNode, caret);\n  const sel: Selection | null = window.getSelection();\n  sel?.removeAllRanges();\n  sel?.addRange(range);\n};\n\nexport const getAxiosConfig = (options: AxiosOptions) => {\n  if (!options) return;\n  const { loggedInUser, formData, blob } = options;\n  const config: AxiosConfig = {\n    headers: {\n      \"Content-Type\": formData ? \"multipart/form-data\" : \"application/json\",\n    },\n  };\n  if (blob) config.responseType = \"blob\";\n  if (loggedInUser)\n    config.headers.Authorization = `Bearer ${loggedInUser.token}`;\n\n  return config;\n};\n\n// In bytes\nexport const ONE_KB = 1024;\nexport const ONE_MB = 1048576;\nexport const TWO_MB = 2097152;\nexport const FIVE_MB = 5242880;\n\nexport const getFileSizeString = memoize((fileSize: number) => {\n  return !fileSize\n    ? \"\"\n    : fileSize > ONE_MB\n    ? (fileSize / ONE_MB).toFixed(1) + \" MB\"\n    : fileSize > ONE_KB\n    ? (fileSize / ONE_KB).toFixed(0) + \" KB\"\n    : fileSize + \" B\";\n});\n\nexport const isImageFile = memoize((filename: string) =>\n  /(\\.png|\\.jpg|\\.jpeg|\\.svg|\\.webp)$/.test(filename)\n);\n\nexport const isImageOrGifFile = memoize((filename: string) =>\n  /(\\.png|\\.jpg|\\.jpeg|\\.svg|\\.gif|\\.webp)$/.test(filename)\n);\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: process.env.REACT_APP_SERVER_BASE_URL,\n});\n"],"names":["disableIfLoading","showPassword","setShowPassword","className","onClick","useAppSelector","useSelector","useAppDispatch","useDispatch","debounce","func","timer","delay","context","args","clearTimeout","setTimeout","apply","memoize","cachedResults","argsKey","JSON","stringify","result","truncateString","str","limit","index","length","substring","truncateWords","sentence","split","map","word","join","getOneToOneChatReceiver","loggedInUser","chatUsers","_id","msgTimeStringOf","msgDate","hours","getHours","minutes","getMinutes","am_or_pm","dateStringOf","date","getDate","getMonth","getFullYear","msgDateStringOf","currDate","today","Date","yesterday","setTime","getTime","parseInnerHTML","innerHTML","replaceAll","trim","setCaretPosition","node","focus","lastTextNode","lastChild","console","log","caret","textContent","range","document","createRange","setStart","setEnd","sel","window","getSelection","removeAllRanges","addRange","getAxiosConfig","options","config","headers","formData","blob","responseType","Authorization","token","ONE_MB","TWO_MB","FIVE_MB","getFileSizeString","fileSize","toFixed","isImageFile","filename","test","isImageOrGifFile","axios","baseURL","process"],"sourceRoot":""}